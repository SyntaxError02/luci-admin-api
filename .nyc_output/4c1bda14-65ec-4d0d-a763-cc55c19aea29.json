{"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/index.js":{"path":"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":7,"column":15},"end":{"line":7,"column":33}},"2":{"start":{"line":9,"column":16},"end":{"line":9,"column":48}},"3":{"start":{"line":11,"column":14},"end":{"line":11,"column":31}},"4":{"start":{"line":13,"column":15},"end":{"line":13,"column":46}},"5":{"start":{"line":15,"column":12},"end":{"line":15,"column":27}},"6":{"start":{"line":17,"column":13},"end":{"line":17,"column":42}},"7":{"start":{"line":19,"column":14},"end":{"line":19,"column":33}},"8":{"start":{"line":21,"column":15},"end":{"line":21,"column":46}},"9":{"start":{"line":23,"column":39},"end":{"line":23,"column":93}},"10":{"start":{"line":25,"column":0},"end":{"line":25,"column":32}},"11":{"start":{"line":27,"column":10},"end":{"line":27,"column":34}},"12":{"start":{"line":29,"column":11},"end":{"line":29,"column":35}},"13":{"start":{"line":30,"column":0},"end":{"line":30,"column":22}},"14":{"start":{"line":32,"column":0},"end":{"line":32,"column":31}},"15":{"start":{"line":33,"column":0},"end":{"line":33,"column":38}},"16":{"start":{"line":35,"column":0},"end":{"line":35,"column":34}},"17":{"start":{"line":37,"column":0},"end":{"line":37,"column":37}},"18":{"start":{"line":39,"column":0},"end":{"line":52,"column":3}},"19":{"start":{"line":40,"column":2},"end":{"line":40,"column":26}},"20":{"start":{"line":41,"column":2},"end":{"line":46,"column":3}},"21":{"start":{"line":42,"column":4},"end":{"line":45,"column":7}},"22":{"start":{"line":48,"column":2},"end":{"line":51,"column":5}},"23":{"start":{"line":54,"column":0},"end":{"line":56,"column":3}},"24":{"start":{"line":55,"column":2},"end":{"line":55,"column":45}},"25":{"start":{"line":58,"column":0},"end":{"line":58,"column":22}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":23,"column":9},"end":{"line":23,"column":31}},"loc":{"start":{"line":23,"column":37},"end":{"line":23,"column":95}},"line":23},"1":{"name":"(anonymous_1)","decl":{"start":{"line":39,"column":8},"end":{"line":39,"column":9}},"loc":{"start":{"line":39,"column":39},"end":{"line":52,"column":1}},"line":39},"2":{"name":"(anonymous_2)","decl":{"start":{"line":54,"column":17},"end":{"line":54,"column":18}},"loc":{"start":{"line":54,"column":29},"end":{"line":56,"column":1}},"line":54}},"branchMap":{"0":{"loc":{"start":{"line":23,"column":46},"end":{"line":23,"column":92}},"type":"cond-expr","locations":[{"start":{"line":23,"column":70},"end":{"line":23,"column":73}},{"start":{"line":23,"column":76},"end":{"line":23,"column":92}}],"line":23},"1":{"loc":{"start":{"line":23,"column":46},"end":{"line":23,"column":67}},"type":"binary-expr","locations":[{"start":{"line":23,"column":46},"end":{"line":23,"column":49}},{"start":{"line":23,"column":53},"end":{"line":23,"column":67}}],"line":23},"2":{"loc":{"start":{"line":29,"column":11},"end":{"line":29,"column":35}},"type":"binary-expr","locations":[{"start":{"line":29,"column":11},"end":{"line":29,"column":27}},{"start":{"line":29,"column":31},"end":{"line":29,"column":35}}],"line":29},"3":{"loc":{"start":{"line":41,"column":2},"end":{"line":46,"column":3}},"type":"if","locations":[{"start":{"line":41,"column":2},"end":{"line":46,"column":3}},{"start":{"line":41,"column":2},"end":{"line":46,"column":3}}],"line":41},"4":{"loc":{"start":{"line":41,"column":6},"end":{"line":41,"column":55}},"type":"binary-expr","locations":[{"start":{"line":41,"column":6},"end":{"line":41,"column":16}},{"start":{"line":41,"column":20},"end":{"line":41,"column":55}}],"line":41},"5":{"loc":{"start":{"line":50,"column":13},"end":{"line":50,"column":61}},"type":"cond-expr","locations":[{"start":{"line":50,"column":26},"end":{"line":50,"column":47}},{"start":{"line":50,"column":50},"end":{"line":50,"column":61}}],"line":50}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":4,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":0,"20":0,"21":0,"22":0,"23":1,"24":1,"25":1},"f":{"0":4,"1":0,"2":1},"b":{"0":[1,3],"1":[4,4],"2":[1,1],"3":[0,0],"4":[0,0],"5":[0,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["require","app","port","process","env","PORT","set","use","express","json","index","err","req","res","next","console","log","parent","errno","status","success","message","errors","listen"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAGAA,QAAQ,sBAAR;;AAEA,IAAMC,MAAM,wBAAZ;;AAEA,IAAMC,OAAOC,QAAQC,GAAR,CAAYC,IAAZ,IAAoB,IAAjC;AACAJ,IAAIK,GAAJ,CAAQ,MAAR,EAAgBJ,IAAhB;;AAEAD,IAAIM,GAAJ,CAAQ,qBAAR;AACAN,IAAIM,GAAJ,CAAQ,sBAAO,KAAP,CAAR;;AAEAN,IAAIM,GAAJ,CAAQC,kBAAQC,IAAR,EAAR;;AAEAR,IAAIM,GAAJ,CAAQ,SAAR,EAAmBG,gBAAnB;;AAEAT,IAAIM,GAAJ,CAAQ,UAACI,GAAD,EAAMC,GAAN,EAAWC,GAAX,EAAgBC,IAAhB,EAAyB;AAC/BC,UAAQC,GAAR,CAAY,KAAZ,EAAmBL,GAAnB;AACA,MAAIA,IAAIM,MAAJ,IAAcN,IAAIM,MAAJ,CAAWC,KAAX,KAAqB,cAAvC,EAAuD;AACrD,WAAOL,IAAIM,MAAJ,CAAW,GAAX,EAAgBV,IAAhB,CAAqB;AAC1BW,eAAS,KADiB;AAE1BC,eAAS;AAFiB,KAArB,CAAP;AAID;;AAED,SAAOR,IAAIM,MAAJ,CAAW,GAAX,EAAgBV,IAAhB,CAAqB;AAC1BW,aAAS,KADiB;AAE1BC,aAASV,IAAIW,MAAJ,GAAaX,IAAIW,MAAJ,CAAW,CAAX,EAAcD,OAA3B,GAAqCV,IAAIU;AAFxB,GAArB,CAAP;AAID,CAbD;;AAeApB,IAAIsB,MAAJ,CAAWrB,IAAX,EAAiB,YAAM;AACrBa,UAAQC,GAAR,0BAAmCd,IAAnC;AACD,CAFD;;kBAIeD,G","file":"index.js","sourceRoot":"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server","sourcesContent":["import express from 'express';\nimport logger from 'morgan';\nimport cors from 'cors';\nimport index from './routes';\n\n\nrequire('express-async-errors');\n\nconst app = express();\n\nconst port = process.env.PORT || 8000;\napp.set('port', port);\n\napp.use(cors());\napp.use(logger('dev'));\n\napp.use(express.json());\n\napp.use('/api/v1', index);\n\napp.use((err, req, res, next) => {\n  console.log('>>>', err);\n  if (err.parent && err.parent.errno === 'ECONNREFUSED') {\n    return res.status(500).json({\n      success: false,\n      message: 'connection error'\n    });\n  }\n\n  return res.status(400).json({\n    success: false,\n    message: err.errors ? err.errors[0].message : err.message\n  });\n});\n\napp.listen(port, () => {\n  console.log(`App started on port ${port}`);\n});\n\nexport default app;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"35be772af46299ac160ed4fd189e2b6e2e7d19ac","contentHash":"34a099c23a9e91697ff77836e748eead9995101e8dbf8e0106e7ad459d92fbea"},"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/routes/index.js":{"path":"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/routes/index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":7,"column":15},"end":{"line":7,"column":33}},"2":{"start":{"line":9,"column":16},"end":{"line":9,"column":48}},"3":{"start":{"line":11,"column":20},"end":{"line":11,"column":54}},"4":{"start":{"line":13,"column":18},"end":{"line":13,"column":41}},"5":{"start":{"line":15,"column":19},"end":{"line":15,"column":54}},"6":{"start":{"line":17,"column":39},"end":{"line":17,"column":93}},"7":{"start":{"line":19,"column":13},"end":{"line":19,"column":39}},"8":{"start":{"line":21,"column":0},"end":{"line":23,"column":3}},"9":{"start":{"line":22,"column":2},"end":{"line":22,"column":53}},"10":{"start":{"line":25,"column":0},"end":{"line":25,"column":38}},"11":{"start":{"line":27,"column":0},"end":{"line":29,"column":3}},"12":{"start":{"line":28,"column":2},"end":{"line":28,"column":67}},"13":{"start":{"line":31,"column":0},"end":{"line":31,"column":25}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":17,"column":9},"end":{"line":17,"column":31}},"loc":{"start":{"line":17,"column":37},"end":{"line":17,"column":95}},"line":17},"1":{"name":"(anonymous_1)","decl":{"start":{"line":21,"column":16},"end":{"line":21,"column":17}},"loc":{"start":{"line":21,"column":36},"end":{"line":23,"column":1}},"line":21},"2":{"name":"(anonymous_2)","decl":{"start":{"line":27,"column":16},"end":{"line":27,"column":17}},"loc":{"start":{"line":27,"column":36},"end":{"line":29,"column":1}},"line":27}},"branchMap":{"0":{"loc":{"start":{"line":17,"column":46},"end":{"line":17,"column":92}},"type":"cond-expr","locations":[{"start":{"line":17,"column":70},"end":{"line":17,"column":73}},{"start":{"line":17,"column":76},"end":{"line":17,"column":92}}],"line":17},"1":{"loc":{"start":{"line":17,"column":46},"end":{"line":17,"column":67}},"type":"binary-expr","locations":[{"start":{"line":17,"column":46},"end":{"line":17,"column":49}},{"start":{"line":17,"column":53},"end":{"line":17,"column":67}}],"line":17}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":2,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1},"f":{"0":2,"1":1,"2":1},"b":{"0":[1,1],"1":[2,2]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["router","express","Router","get","req","res","use","AdminRouter","all"],"mappings":";;;;;;AAAA;;;;AACA;;AACA;;;;;;AAEA,IAAMA,SAASC,kBAAQC,MAAR,EAAf;;AAEAF,OAAOG,GAAP,CAAW,GAAX,EAAgB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC5B,qCAAgBA,GAAhB,EAAqB,GAArB,EAA0B,IAA1B;AACD,CAFD;;AAIAL,OAAOM,GAAP,CAAW,GAAX,EAAgBC,oBAAhB;;AAEAP,OAAOQ,GAAP,CAAW,GAAX,EAAgB,UAACJ,GAAD,EAAMC,GAAN,EAAc;AAC5B,mCAAcA,GAAd,EAAmB,GAAnB,EAAwB,oBAAxB;AACD,CAFD;;kBAIeL,M","file":"index.js","sourceRoot":"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/routes","sourcesContent":["import express from 'express';\nimport { errorResponse, successResponse } from '../helpers/responseUtil';\nimport AdminRouter from './adminRoute';\n\nconst router = express.Router();\n\nrouter.get('/', (req, res) => {\n  successResponse(res, 200, null);\n});\n\nrouter.use('/', AdminRouter);\n\nrouter.all('*', (req, res) => {\n  errorResponse(res, 404, '404 Page not found');\n});\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bbf2ac77851cf851b1408a231eeceda05c70bffc","contentHash":"28fa4973b3e2e75b55a970e2fbba99ffd29a377a5b96967584f07c2264435d7f"},"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/helpers/responseUtil.js":{"path":"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/helpers/responseUtil.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":14,"column":20},"end":{"line":19,"column":1}},"2":{"start":{"line":15,"column":2},"end":{"line":18,"column":5}},"3":{"start":{"line":29,"column":22},"end":{"line":31,"column":1}},"4":{"start":{"line":30,"column":2},"end":{"line":30,"column":41}},"5":{"start":{"line":41,"column":31},"end":{"line":53,"column":1}},"6":{"start":{"line":42,"column":2},"end":{"line":52,"column":5}},"7":{"start":{"line":63,"column":36},"end":{"line":77,"column":1}},"8":{"start":{"line":64,"column":14},"end":{"line":64,"column":84}},"9":{"start":{"line":65,"column":19},"end":{"line":65,"column":29}},"10":{"start":{"line":66,"column":13},"end":{"line":66,"column":22}},"11":{"start":{"line":68,"column":20},"end":{"line":68,"column":36}},"12":{"start":{"line":69,"column":19},"end":{"line":69,"column":48}},"13":{"start":{"line":71,"column":2},"end":{"line":76,"column":5}}},"fnMap":{"0":{"name":"errorResponse","decl":{"start":{"line":14,"column":53},"end":{"line":14,"column":66}},"loc":{"start":{"line":14,"column":96},"end":{"line":19,"column":1}},"line":14},"1":{"name":"successResponse","decl":{"start":{"line":29,"column":57},"end":{"line":29,"column":72}},"loc":{"start":{"line":29,"column":101},"end":{"line":31,"column":1}},"line":29},"2":{"name":"successResponseWithToken","decl":{"start":{"line":41,"column":75},"end":{"line":41,"column":99}},"loc":{"start":{"line":41,"column":144},"end":{"line":53,"column":1}},"line":41},"3":{"name":"successResponseWithPagination","decl":{"start":{"line":63,"column":85},"end":{"line":63,"column":114}},"loc":{"start":{"line":63,"column":149},"end":{"line":77,"column":1}},"line":63}},"branchMap":{"0":{"loc":{"start":{"line":64,"column":14},"end":{"line":64,"column":84}},"type":"cond-expr","locations":[{"start":{"line":64,"column":67},"end":{"line":64,"column":79}},{"start":{"line":64,"column":82},"end":{"line":64,"column":84}}],"line":64},"1":{"loc":{"start":{"line":64,"column":14},"end":{"line":64,"column":64}},"type":"binary-expr","locations":[{"start":{"line":64,"column":14},"end":{"line":64,"column":34}},{"start":{"line":64,"column":38},"end":{"line":64,"column":64}}],"line":64},"2":{"loc":{"start":{"line":68,"column":20},"end":{"line":68,"column":36}},"type":"cond-expr","locations":[{"start":{"line":68,"column":27},"end":{"line":68,"column":32}},{"start":{"line":68,"column":35},"end":{"line":68,"column":36}}],"line":68}},"s":{"0":1,"1":1,"2":9,"3":1,"4":2,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1},"f":{"0":9,"1":2,"2":1,"3":1},"b":{"0":[1,0],"1":[1,1],"2":[1,0]},"inputSourceMap":{"version":3,"sources":["responseUtil.js"],"names":["errorResponse","response","statusCode","error","status","json","success","message","successResponse","data","successResponseWithToken","token","id","name","email","role","successResponseWithPagination","page","limit","totalItems","count","rows","currentPage","totalPages","Math","ceil"],"mappings":";;;;;AAAA;;;;;;;;AAQO,IAAMA,wCAAgB,SAAhBA,aAAgB,CAACC,QAAD,EAAWC,UAAX,EAAuBC,KAAvB,EAAiC;AAC5DF,WAASG,MAAT,CAAgBF,UAAhB,EAA4BG,IAA5B,CAAiC;AAC/BC,aAAS,KADsB;AAE/BC,aAASJ;AAFsB,GAAjC;AAID,CALM;;AAOP;;;;;;;;AAQO,IAAMK,4CAAkB,SAAlBA,eAAkB,CAACP,QAAD,EAAWC,UAAX,EAAuBO,IAAvB,EAAgC;AAC7DR,WAASG,MAAT,CAAgBF,UAAhB,EAA4BG,IAA5B,CAAiCI,IAAjC;AACD,CAFM;;AAIP;;;;;;;;AAQO,IAAMC,8DAA2B,SAA3BA,wBAA2B,CACtCT,QADsC,EAEtCC,UAFsC,EAGtCK,OAHsC,EAItCE,IAJsC,EAKtCE,KALsC,EAMnC;AACHV,WAASG,MAAT,CAAgBF,UAAhB,EAA4BG,IAA5B,CAAiC;AAC/BC,aAAS,IADsB;AAE/BC,oBAF+B;AAG/BE,UAAM;AACJG,UAAIH,KAAKG,EADL;AAEJC,YAAMJ,KAAKI,IAFP;AAGJC,aAAOL,KAAKK,KAHR;AAIJC,YAAMN,KAAKM;AAJP,KAHyB;AAS/BJ,uBAAiBA;AATc,GAAjC;AAWD,CAlBM;;AAoBP;;;;;;;;AAQO,IAAMK,wEAAgC,SAAhCA,6BAAgC,CAC3Cf,QAD2C,EAE3CC,UAF2C,EAG3CO,IAH2C,EAI3CQ,IAJ2C,EAMxC;AAAA,MADHC,KACG,uEADK,EACL;AAAA,MACYC,UADZ,GACiCV,IADjC,CACKW,KADL;AAAA,MACwBC,IADxB,GACiCZ,IADjC,CACwBY,IADxB;;AAEH,MAAMC,cAAcL,OAAO,CAACA,IAAR,GAAe,CAAnC;AACA,MAAMM,aAAaC,KAAKC,IAAL,CAAUN,aAAaD,KAAvB,CAAnB;;AAEAjB,WAASG,MAAT,CAAgBF,UAAhB,EAA4BG,IAA5B,CAAiC;AAC/Bc,0BAD+B;AAE/BI,0BAF+B;AAG/BD,4BAH+B;AAI/BD;AAJ+B,GAAjC;AAMD,CAjBM","file":"responseUtil.js","sourceRoot":"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/helpers","sourcesContent":["/**\n * Error response\n *\n * @param  {string} error - error string\n * @param  {Integer} statusCode - status code\n * @param {any} response - expressJS response object\n * @returns {object} response object\n */\nexport const errorResponse = (response, statusCode, error) => {\n  response.status(statusCode).json({\n    success: false,\n    message: error,\n  });\n};\n\n/**\n * Success response\n *\n * @param  {string} message - response message\n * @param  {Integer} statusCode - status code\n * @param {Array} response - data object\n * @returns {object} response object\n */\nexport const successResponse = (response, statusCode, data) => {\n  response.status(statusCode).json(data);\n};\n\n/**\n * Success response\n *\n * @param  {string} message - response message\n * @param  {Integer} statusCode - status code\n * @param {Array} response - data object\n * @returns {object} response object\n */\nexport const successResponseWithToken = (\n  response,\n  statusCode,\n  message,\n  data,\n  token\n) => {\n  response.status(statusCode).json({\n    success: true,\n    message,\n    data: {\n      id: data.id,\n      name: data.name,\n      email: data.email,\n      role: data.role,\n    },\n    token: `Bearer ${token}`,\n  });\n};\n\n/**\n * Success response with pagination\n *\n * @param  {string} message - response message\n * @param  {Integer} statusCode - status code\n * @param {Array} response - data object\n * @returns {object} response object\n */\nexport const successResponseWithPagination = (\n  response,\n  statusCode,\n  data,\n  page,\n  limit = 10\n) => {\n  const { count: totalItems, rows } = data;\n  const currentPage = page ? +page : 0;\n  const totalPages = Math.ceil(totalItems / limit);\n\n  response.status(statusCode).json({\n    totalItems,\n    totalPages,\n    currentPage,\n    rows,\n  });\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a3d3b1583e45b89d7bd9063bb051e7ed3bfc1d5e","contentHash":"5568186b8b21ae92a2fb3e2b1233c8df791c042cec9db7f7098f7aeb87ce53f0"},"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/routes/adminRoute.js":{"path":"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/routes/adminRoute.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":7,"column":15},"end":{"line":7,"column":33}},"2":{"start":{"line":9,"column":16},"end":{"line":9,"column":48}},"3":{"start":{"line":11,"column":23},"end":{"line":11,"column":64}},"4":{"start":{"line":13,"column":24},"end":{"line":13,"column":64}},"5":{"start":{"line":15,"column":24},"end":{"line":15,"column":66}},"6":{"start":{"line":17,"column":20},"end":{"line":17,"column":58}},"7":{"start":{"line":19,"column":24},"end":{"line":19,"column":66}},"8":{"start":{"line":21,"column":39},"end":{"line":21,"column":93}},"9":{"start":{"line":23,"column":18},"end":{"line":23,"column":44}},"10":{"start":{"line":25,"column":0},"end":{"line":25,"column":99}},"11":{"start":{"line":26,"column":0},"end":{"line":26,"column":91}},"12":{"start":{"line":27,"column":0},"end":{"line":27,"column":168}},"13":{"start":{"line":29,"column":0},"end":{"line":29,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":21,"column":9},"end":{"line":21,"column":31}},"loc":{"start":{"line":21,"column":37},"end":{"line":21,"column":95}},"line":21}},"branchMap":{"0":{"loc":{"start":{"line":21,"column":46},"end":{"line":21,"column":92}},"type":"cond-expr","locations":[{"start":{"line":21,"column":70},"end":{"line":21,"column":73}},{"start":{"line":21,"column":76},"end":{"line":21,"column":92}}],"line":21},"1":{"loc":{"start":{"line":21,"column":46},"end":{"line":21,"column":67}},"type":"binary-expr","locations":[{"start":{"line":21,"column":46},"end":{"line":21,"column":49}},{"start":{"line":21,"column":53},"end":{"line":21,"column":67}}],"line":21}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":2,"9":1,"10":1,"11":1,"12":1,"13":1},"f":{"0":2},"b":{"0":[1,1],"1":[2,2]},"inputSourceMap":{"version":3,"sources":["adminRoute.js"],"names":["adminRouter","express","Router","post","loginAdminValidator","AdminController","login","get","isLoggedIn","getAllUsers","patch","validateParam","updateUserValidator","updateUser"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;AACA;;AACA;;;;AAEA,IAAMA,cAAcC,kBAAQC,MAAR,EAApB;;AAEAF,YAAYG,IAAZ,CAAiB,QAAjB,EAA2BC,qCAA3B,EAAgDC,0BAAgBC,KAAhE;AACAN,YAAYO,GAAZ,CAAgB,QAAhB,EAA0BC,wBAA1B,EAAsCH,0BAAgBI,WAAtD;AACAT,YAAYU,KAAZ,CAAkB,YAAlB,EAAgCF,wBAAhC,EAA4CG,+BAA5C,EAA2DC,qCAA3D,EAAgFP,0BAAgBQ,UAAhG;;kBAGeb,W","file":"adminRoute.js","sourceRoot":"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/routes","sourcesContent":["import express from 'express';\nimport AdminController from '../controllers/AdminController';\nimport { loginAdminValidator, updateUserValidator } from '../middlewares/adminValidations';\nimport { isLoggedIn } from '../middlewares/authenticate';\nimport { validateParam } from '../middlewares/paramsValidation';\n\nconst adminRouter = express.Router();\n\nadminRouter.post('/login', loginAdminValidator, AdminController.login);\nadminRouter.get('/users', isLoggedIn, AdminController.getAllUsers);\nadminRouter.patch('/users/:id', isLoggedIn, validateParam, updateUserValidator, AdminController.updateUser);\n\n\nexport default adminRouter;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0a615cd1c22541253ce079757feff3c5d417e424","contentHash":"696cad28c7fc0502739fbfbbd01e9383a95c304ecae31ed56c2b3922e51e4aa0"},"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/controllers/AdminController.js":{"path":"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/controllers/AdminController.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":7,"column":19},"end":{"line":7,"column":563}},"2":{"start":{"line":7,"column":76},"end":{"line":7,"column":347}},"3":{"start":{"line":7,"column":89},"end":{"line":7,"column":90}},"4":{"start":{"line":7,"column":134},"end":{"line":7,"column":142}},"5":{"start":{"line":7,"column":144},"end":{"line":7,"column":199}},"6":{"start":{"line":7,"column":200},"end":{"line":7,"column":231}},"7":{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},"8":{"start":{"line":7,"column":259},"end":{"line":7,"column":286}},"9":{"start":{"line":7,"column":287},"end":{"line":7,"column":345}},"10":{"start":{"line":7,"column":350},"end":{"line":7,"column":559}},"11":{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},"12":{"start":{"line":7,"column":423},"end":{"line":7,"column":475}},"13":{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},"14":{"start":{"line":7,"column":493},"end":{"line":7,"column":536}},"15":{"start":{"line":7,"column":537},"end":{"line":7,"column":556}},"16":{"start":{"line":9,"column":20},"end":{"line":9,"column":43}},"17":{"start":{"line":11,"column":21},"end":{"line":11,"column":58}},"18":{"start":{"line":13,"column":15},"end":{"line":13,"column":44}},"19":{"start":{"line":15,"column":20},"end":{"line":15,"column":54}},"20":{"start":{"line":17,"column":14},"end":{"line":17,"column":34}},"21":{"start":{"line":19,"column":15},"end":{"line":19,"column":46}},"22":{"start":{"line":21,"column":0},"end":{"line":21,"column":26}},"23":{"start":{"line":23,"column":39},"end":{"line":23,"column":93}},"24":{"start":{"line":25,"column":33},"end":{"line":25,"column":456}},"25":{"start":{"line":25,"column":64},"end":{"line":25,"column":89}},"26":{"start":{"line":25,"column":91},"end":{"line":25,"column":453}},"27":{"start":{"line":25,"column":165},"end":{"line":25,"column":263}},"28":{"start":{"line":25,"column":182},"end":{"line":25,"column":195}},"29":{"start":{"line":25,"column":209},"end":{"line":25,"column":219}},"30":{"start":{"line":25,"column":239},"end":{"line":25,"column":253}},"31":{"start":{"line":25,"column":254},"end":{"line":25,"column":261}},"32":{"start":{"line":25,"column":264},"end":{"line":25,"column":426}},"33":{"start":{"line":25,"column":281},"end":{"line":25,"column":296}},"34":{"start":{"line":25,"column":306},"end":{"line":25,"column":424}},"35":{"start":{"line":25,"column":360},"end":{"line":25,"column":380}},"36":{"start":{"line":25,"column":401},"end":{"line":25,"column":420}},"37":{"start":{"line":25,"column":429},"end":{"line":25,"column":449}},"38":{"start":{"line":27,"column":50},"end":{"line":27,"column":151}},"39":{"start":{"line":27,"column":92},"end":{"line":27,"column":149}},"40":{"start":{"line":29,"column":0},"end":{"line":29,"column":27}},"41":{"start":{"line":31,"column":11},"end":{"line":31,"column":32}},"42":{"start":{"line":32,"column":12},"end":{"line":32,"column":34}},"43":{"start":{"line":34,"column":22},"end":{"line":218,"column":3}},"44":{"start":{"line":36,"column":4},"end":{"line":36,"column":43}},"45":{"start":{"line":39,"column":2},"end":{"line":215,"column":6}},"46":{"start":{"line":42,"column":17},"end":{"line":93,"column":9}},"47":{"start":{"line":45,"column":8},"end":{"line":92,"column":37}},"48":{"start":{"line":46,"column":10},"end":{"line":91,"column":11}},"49":{"start":{"line":47,"column":12},"end":{"line":90,"column":13}},"50":{"start":{"line":49,"column":16},"end":{"line":49,"column":34}},"51":{"start":{"line":50,"column":16},"end":{"line":50,"column":93}},"52":{"start":{"line":51,"column":16},"end":{"line":51,"column":34}},"53":{"start":{"line":52,"column":16},"end":{"line":54,"column":19}},"54":{"start":{"line":57,"column":16},"end":{"line":57,"column":38}},"55":{"start":{"line":59,"column":16},"end":{"line":62,"column":17}},"56":{"start":{"line":60,"column":18},"end":{"line":60,"column":36}},"57":{"start":{"line":61,"column":18},"end":{"line":61,"column":24}},"58":{"start":{"line":64,"column":16},"end":{"line":64,"column":125}},"59":{"start":{"line":67,"column":16},"end":{"line":67,"column":89}},"60":{"start":{"line":69,"column":16},"end":{"line":72,"column":17}},"61":{"start":{"line":70,"column":18},"end":{"line":70,"column":37}},"62":{"start":{"line":71,"column":18},"end":{"line":71,"column":24}},"63":{"start":{"line":74,"column":16},"end":{"line":74,"column":125}},"64":{"start":{"line":77,"column":16},"end":{"line":77,"column":163}},"65":{"start":{"line":78,"column":16},"end":{"line":78,"column":138}},"66":{"start":{"line":81,"column":16},"end":{"line":81,"column":35}},"67":{"start":{"line":82,"column":16},"end":{"line":82,"column":51}},"68":{"start":{"line":89,"column":16},"end":{"line":89,"column":39}},"69":{"start":{"line":96,"column":8},"end":{"line":96,"column":43}},"70":{"start":{"line":99,"column":6},"end":{"line":99,"column":19}},"71":{"start":{"line":104,"column":18},"end":{"line":143,"column":9}},"72":{"start":{"line":106,"column":8},"end":{"line":142,"column":38}},"73":{"start":{"line":107,"column":10},"end":{"line":141,"column":11}},"74":{"start":{"line":108,"column":12},"end":{"line":140,"column":13}},"75":{"start":{"line":110,"column":16},"end":{"line":110,"column":27}},"76":{"start":{"line":111,"column":16},"end":{"line":111,"column":27}},"77":{"start":{"line":112,"column":16},"end":{"line":112,"column":35}},"78":{"start":{"line":113,"column":16},"end":{"line":113,"column":59}},"79":{"start":{"line":115,"column":16},"end":{"line":115,"column":44}},"80":{"start":{"line":117,"column":16},"end":{"line":117,"column":35}},"81":{"start":{"line":118,"column":16},"end":{"line":121,"column":19}},"82":{"start":{"line":124,"column":16},"end":{"line":124,"column":39}},"83":{"start":{"line":126,"column":16},"end":{"line":126,"column":95}},"84":{"start":{"line":127,"column":16},"end":{"line":127,"column":36}},"85":{"start":{"line":128,"column":16},"end":{"line":128,"column":22}},"86":{"start":{"line":131,"column":16},"end":{"line":131,"column":36}},"87":{"start":{"line":132,"column":16},"end":{"line":132,"column":53}},"88":{"start":{"line":139,"column":16},"end":{"line":139,"column":40}},"89":{"start":{"line":146,"column":8},"end":{"line":146,"column":44}},"90":{"start":{"line":149,"column":6},"end":{"line":149,"column":25}},"91":{"start":{"line":154,"column":18},"end":{"line":207,"column":9}},"92":{"start":{"line":157,"column":8},"end":{"line":206,"column":38}},"93":{"start":{"line":158,"column":10},"end":{"line":205,"column":11}},"94":{"start":{"line":159,"column":12},"end":{"line":204,"column":13}},"95":{"start":{"line":161,"column":16},"end":{"line":161,"column":35}},"96":{"start":{"line":162,"column":16},"end":{"line":162,"column":35}},"97":{"start":{"line":163,"column":16},"end":{"line":163,"column":148}},"98":{"start":{"line":164,"column":16},"end":{"line":164,"column":35}},"99":{"start":{"line":165,"column":16},"end":{"line":165,"column":59}},"100":{"start":{"line":168,"column":16},"end":{"line":168,"column":38}},"101":{"start":{"line":170,"column":16},"end":{"line":173,"column":17}},"102":{"start":{"line":171,"column":18},"end":{"line":171,"column":37}},"103":{"start":{"line":172,"column":18},"end":{"line":172,"column":24}},"104":{"start":{"line":175,"column":16},"end":{"line":175,"column":112}},"105":{"start":{"line":178,"column":16},"end":{"line":178,"column":36}},"106":{"start":{"line":179,"column":16},"end":{"line":185,"column":42}},"107":{"start":{"line":188,"column":16},"end":{"line":188,"column":45}},"108":{"start":{"line":190,"column":16},"end":{"line":190,"column":74}},"109":{"start":{"line":191,"column":16},"end":{"line":191,"column":36}},"110":{"start":{"line":192,"column":16},"end":{"line":192,"column":22}},"111":{"start":{"line":195,"column":16},"end":{"line":195,"column":36}},"112":{"start":{"line":196,"column":16},"end":{"line":196,"column":53}},"113":{"start":{"line":203,"column":16},"end":{"line":203,"column":40}},"114":{"start":{"line":210,"column":8},"end":{"line":210,"column":44}},"115":{"start":{"line":213,"column":6},"end":{"line":213,"column":24}},"116":{"start":{"line":217,"column":2},"end":{"line":217,"column":25}},"117":{"start":{"line":220,"column":0},"end":{"line":220,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":19},"end":{"line":7,"column":20}},"loc":{"start":{"line":7,"column":31},"end":{"line":7,"column":561}},"line":7},"1":{"name":"defineProperties","decl":{"start":{"line":7,"column":42},"end":{"line":7,"column":58}},"loc":{"start":{"line":7,"column":74},"end":{"line":7,"column":349}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":7,"column":357},"end":{"line":7,"column":358}},"loc":{"start":{"line":7,"column":405},"end":{"line":7,"column":558}},"line":7},"3":{"name":"_interopRequireDefault","decl":{"start":{"line":23,"column":9},"end":{"line":23,"column":31}},"loc":{"start":{"line":23,"column":37},"end":{"line":23,"column":95}},"line":23},"4":{"name":"_asyncToGenerator","decl":{"start":{"line":25,"column":9},"end":{"line":25,"column":26}},"loc":{"start":{"line":25,"column":31},"end":{"line":25,"column":458}},"line":25},"5":{"name":"(anonymous_5)","decl":{"start":{"line":25,"column":40},"end":{"line":25,"column":41}},"loc":{"start":{"line":25,"column":52},"end":{"line":25,"column":455}},"line":25},"6":{"name":"(anonymous_6)","decl":{"start":{"line":25,"column":110},"end":{"line":25,"column":111}},"loc":{"start":{"line":25,"column":137},"end":{"line":25,"column":451}},"line":25},"7":{"name":"step","decl":{"start":{"line":25,"column":148},"end":{"line":25,"column":152}},"loc":{"start":{"line":25,"column":163},"end":{"line":25,"column":428}},"line":25},"8":{"name":"(anonymous_8)","decl":{"start":{"line":25,"column":341},"end":{"line":25,"column":342}},"loc":{"start":{"line":25,"column":358},"end":{"line":25,"column":382}},"line":25},"9":{"name":"(anonymous_9)","decl":{"start":{"line":25,"column":384},"end":{"line":25,"column":385}},"loc":{"start":{"line":25,"column":399},"end":{"line":25,"column":422}},"line":25},"10":{"name":"_classCallCheck","decl":{"start":{"line":27,"column":9},"end":{"line":27,"column":24}},"loc":{"start":{"line":27,"column":48},"end":{"line":27,"column":153}},"line":27},"11":{"name":"(anonymous_11)","decl":{"start":{"line":34,"column":22},"end":{"line":34,"column":23}},"loc":{"start":{"line":34,"column":34},"end":{"line":218,"column":1}},"line":34},"12":{"name":"AdminController","decl":{"start":{"line":35,"column":11},"end":{"line":35,"column":26}},"loc":{"start":{"line":35,"column":29},"end":{"line":37,"column":3}},"line":35},"13":{"name":"(anonymous_13)","decl":{"start":{"line":41,"column":11},"end":{"line":41,"column":12}},"loc":{"start":{"line":41,"column":23},"end":{"line":100,"column":5}},"line":41},"14":{"name":"_callee","decl":{"start":{"line":42,"column":82},"end":{"line":42,"column":89}},"loc":{"start":{"line":42,"column":106},"end":{"line":93,"column":7}},"line":42},"15":{"name":"_callee$","decl":{"start":{"line":45,"column":48},"end":{"line":45,"column":56}},"loc":{"start":{"line":45,"column":67},"end":{"line":92,"column":9}},"line":45},"16":{"name":"login","decl":{"start":{"line":95,"column":15},"end":{"line":95,"column":20}},"loc":{"start":{"line":95,"column":35},"end":{"line":97,"column":7}},"line":95},"17":{"name":"(anonymous_17)","decl":{"start":{"line":103,"column":11},"end":{"line":103,"column":12}},"loc":{"start":{"line":103,"column":23},"end":{"line":150,"column":5}},"line":103},"18":{"name":"_callee2","decl":{"start":{"line":104,"column":83},"end":{"line":104,"column":91}},"loc":{"start":{"line":104,"column":108},"end":{"line":143,"column":7}},"line":104},"19":{"name":"_callee2$","decl":{"start":{"line":106,"column":48},"end":{"line":106,"column":57}},"loc":{"start":{"line":106,"column":69},"end":{"line":142,"column":9}},"line":106},"20":{"name":"getAllUsers","decl":{"start":{"line":145,"column":15},"end":{"line":145,"column":26}},"loc":{"start":{"line":145,"column":42},"end":{"line":147,"column":7}},"line":145},"21":{"name":"(anonymous_21)","decl":{"start":{"line":153,"column":11},"end":{"line":153,"column":12}},"loc":{"start":{"line":153,"column":23},"end":{"line":214,"column":5}},"line":153},"22":{"name":"_callee3","decl":{"start":{"line":154,"column":83},"end":{"line":154,"column":91}},"loc":{"start":{"line":154,"column":108},"end":{"line":207,"column":7}},"line":154},"23":{"name":"_callee3$","decl":{"start":{"line":157,"column":48},"end":{"line":157,"column":57}},"loc":{"start":{"line":157,"column":69},"end":{"line":206,"column":9}},"line":157},"24":{"name":"updateUser","decl":{"start":{"line":209,"column":15},"end":{"line":209,"column":25}},"loc":{"start":{"line":209,"column":41},"end":{"line":211,"column":7}},"line":209}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":168},"end":{"line":7,"column":198}},"type":"binary-expr","locations":[{"start":{"line":7,"column":168},"end":{"line":7,"column":189}},{"start":{"line":7,"column":193},"end":{"line":7,"column":198}}],"line":7},"1":{"loc":{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},"type":"if","locations":[{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},{"start":{"line":7,"column":232},"end":{"line":7,"column":286}}],"line":7},"2":{"loc":{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},"type":"if","locations":[{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},{"start":{"line":7,"column":407},"end":{"line":7,"column":475}}],"line":7},"3":{"loc":{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},"type":"if","locations":[{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},{"start":{"line":7,"column":476},"end":{"line":7,"column":536}}],"line":7},"4":{"loc":{"start":{"line":23,"column":46},"end":{"line":23,"column":92}},"type":"cond-expr","locations":[{"start":{"line":23,"column":70},"end":{"line":23,"column":73}},{"start":{"line":23,"column":76},"end":{"line":23,"column":92}}],"line":23},"5":{"loc":{"start":{"line":23,"column":46},"end":{"line":23,"column":67}},"type":"binary-expr","locations":[{"start":{"line":23,"column":46},"end":{"line":23,"column":49}},{"start":{"line":23,"column":53},"end":{"line":23,"column":67}}],"line":23},"6":{"loc":{"start":{"line":25,"column":264},"end":{"line":25,"column":426}},"type":"if","locations":[{"start":{"line":25,"column":264},"end":{"line":25,"column":426}},{"start":{"line":25,"column":264},"end":{"line":25,"column":426}}],"line":25},"7":{"loc":{"start":{"line":27,"column":50},"end":{"line":27,"column":151}},"type":"if","locations":[{"start":{"line":27,"column":50},"end":{"line":27,"column":151}},{"start":{"line":27,"column":50},"end":{"line":27,"column":151}}],"line":27},"8":{"loc":{"start":{"line":47,"column":12},"end":{"line":90,"column":13}},"type":"switch","locations":[{"start":{"line":48,"column":14},"end":{"line":54,"column":19}},{"start":{"line":56,"column":14},"end":{"line":64,"column":125}},{"start":{"line":66,"column":14},"end":{"line":74,"column":125}},{"start":{"line":76,"column":14},"end":{"line":78,"column":138}},{"start":{"line":80,"column":14},"end":{"line":85,"column":34}},{"start":{"line":87,"column":14},"end":{"line":87,"column":22}},{"start":{"line":88,"column":14},"end":{"line":89,"column":39}}],"line":47},"9":{"loc":{"start":{"line":59,"column":16},"end":{"line":62,"column":17}},"type":"if","locations":[{"start":{"line":59,"column":16},"end":{"line":62,"column":17}},{"start":{"line":59,"column":16},"end":{"line":62,"column":17}}],"line":59},"10":{"loc":{"start":{"line":69,"column":16},"end":{"line":72,"column":17}},"type":"if","locations":[{"start":{"line":69,"column":16},"end":{"line":72,"column":17}},{"start":{"line":69,"column":16},"end":{"line":72,"column":17}}],"line":69},"11":{"loc":{"start":{"line":108,"column":12},"end":{"line":140,"column":13}},"type":"switch","locations":[{"start":{"line":109,"column":14},"end":{"line":121,"column":19}},{"start":{"line":123,"column":14},"end":{"line":128,"column":22}},{"start":{"line":130,"column":14},"end":{"line":135,"column":35}},{"start":{"line":137,"column":14},"end":{"line":137,"column":22}},{"start":{"line":138,"column":14},"end":{"line":139,"column":40}}],"line":108},"12":{"loc":{"start":{"line":113,"column":23},"end":{"line":113,"column":58}},"type":"cond-expr","locations":[{"start":{"line":113,"column":40},"end":{"line":113,"column":54}},{"start":{"line":113,"column":57},"end":{"line":113,"column":58}}],"line":113},"13":{"loc":{"start":{"line":159,"column":12},"end":{"line":204,"column":13}},"type":"switch","locations":[{"start":{"line":160,"column":14},"end":{"line":165,"column":59}},{"start":{"line":167,"column":14},"end":{"line":175,"column":112}},{"start":{"line":177,"column":14},"end":{"line":185,"column":42}},{"start":{"line":187,"column":14},"end":{"line":192,"column":22}},{"start":{"line":194,"column":14},"end":{"line":199,"column":35}},{"start":{"line":201,"column":14},"end":{"line":201,"column":22}},{"start":{"line":202,"column":14},"end":{"line":203,"column":40}}],"line":159},"14":{"loc":{"start":{"line":170,"column":16},"end":{"line":173,"column":17}},"type":"if","locations":[{"start":{"line":170,"column":16},"end":{"line":173,"column":17}},{"start":{"line":170,"column":16},"end":{"line":173,"column":17}}],"line":170}},"s":{"0":1,"1":1,"2":1,"3":1,"4":3,"5":3,"6":3,"7":3,"8":3,"9":3,"10":1,"11":1,"12":0,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":2,"24":3,"25":5,"26":5,"27":11,"28":11,"29":11,"30":0,"31":0,"32":11,"33":5,"34":6,"35":6,"36":0,"37":5,"38":0,"39":0,"40":1,"41":1,"42":1,"43":1,"44":0,"45":1,"46":1,"47":3,"48":9,"49":12,"50":3,"51":3,"52":3,"53":3,"54":3,"55":3,"56":2,"57":2,"58":1,"59":2,"60":2,"61":1,"62":1,"63":1,"64":1,"65":1,"66":0,"67":0,"68":3,"69":3,"70":1,"71":1,"72":1,"73":2,"74":3,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":0,"87":0,"88":1,"89":1,"90":1,"91":1,"92":1,"93":3,"94":5,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":0,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":0,"112":0,"113":1,"114":1,"115":1,"116":1,"117":1},"f":{"0":1,"1":1,"2":1,"3":2,"4":3,"5":5,"6":5,"7":11,"8":6,"9":0,"10":0,"11":1,"12":0,"13":1,"14":3,"15":9,"16":3,"17":1,"18":1,"19":2,"20":1,"21":1,"22":1,"23":3,"24":1},"b":{"0":[3,3],"1":[3,0],"2":[0,1],"3":[1,0],"4":[0,2],"5":[2,2],"6":[5,6],"7":[0,0],"8":[3,3,2,1,0,0,3],"9":[2,1],"10":[1,1],"11":[1,1,0,1,1],"12":[0,1],"13":[1,1,1,1,0,1,1],"14":[1,0]},"inputSourceMap":{"version":3,"sources":["AdminController.js"],"names":["require","config","User","Model","Admin","AdminController","req","res","next","body","email","password","findOne","where","toLowerCase","admin","confirmPassword","token","jwt","sign","id","process","env","JWT_SECRET_KEY","expiresIn","TOKEN_EXPIRATION","limit","offset","page","query","findAndCountAll","users","params","name","groups","state","features","user","update","updatedUser"],"mappings":";;;;;;;;AAAA;;;;AACA;;AACA;;AAMA;;;;AACA;;;;;;;;AAEAA,QAAQ,QAAR,EAAkBC,MAAlB;;IAEQC,I,GAAgBC,gB,CAAhBD,I;IAAME,K,GAAUD,gB,CAAVC,K;;IAERC,e;;;;;;;;0FACeC,G,EAAKC,G,EAAKC,I;;;;;;;;4BAEGF,IAAIG,I,EAAxBC,K,aAAAA,K,EAAOC,Q,aAAAA,Q;;uBACKP,MAAMQ,OAAN,CAAc;AAChCC,yBAAO,EAAEH,OAAOA,MAAMI,WAAN,EAAT;AADyB,iBAAd,C;;;AAAdC,qB;;oBAIDA,K;;;;;iDAAc,iCAAcR,GAAd,EAAmB,GAAnB,EAAwB,8BAAxB,C;;;AACbS,+B,GAAkB,6BAAeL,QAAf,EAAyBI,MAAMJ,QAA/B,C;;oBACnBK,e;;;;;iDACI,iCAAcT,GAAd,EAAmB,GAAnB,EAAwB,8BAAxB,C;;;AACHU,qB,GAAQC,uBAAIC,IAAJ,CACZ,EAAEC,IAAIL,MAAMK,EAAZ,EAAgBV,OAAOK,MAAML,KAA7B,EADY,EAEZW,QAAQC,GAAR,CAAYC,cAFA,EAGZ,EAAEC,WAAWH,QAAQC,GAAR,CAAYG,gBAAzB,EAHY,C;iDAKP,4CACLlB,GADK,EAEL,GAFK,EAGL,kBAHK,EAILQ,KAJK,EAKLE,KALK,C;;;;;;AAQP;AACAT;;;;;;;;;;;;;;;;;;;4FAIqBF,G,EAAKC,G,EAAKC,I;;;;;;AAC7BkB,qB,GAAQ,E;AACRC,sB,GAAS,C;;AAGLC,oB,GAAOtB,IAAIuB,KAAJ,CAAUD,IAAV,GAAiBtB,IAAIuB,KAAJ,CAAUD,IAA3B,GAAkC,C;;AAC/CD,yBAASD,SAASE,OAAO,CAAhB,CAAT;;;uBAEoB1B,KAAK4B,eAAL,CAAqB;AACvCJ,8BADuC;AAEvCC;AAFuC,iBAArB,C;;;AAAdI,qB;;AAIN,iEAA8BxB,GAA9B,EAAmC,GAAnC,EAAwCwB,KAAxC,EAA+CH,IAA/C,EAAqDF,KAArD;;;;;;;;AAEA;AACAlB;;;;;;;;;;;;;;;;;;;4FAIoBF,G,EAAKC,G,EAAKC,I;;;;;;;;AAEtBY,kB,GAAOd,IAAI0B,M,CAAXZ,E;6BAMJd,IAAIG,I,EAJNwB,I,cAAAA,I,EACAC,M,cAAAA,M,EACAC,K,cAAAA,K,EACAC,Q,cAAAA,Q;;uBAEiBlC,KAAKU,OAAL,CAAa,EAAEC,OAAO,EAAEO,IAAIA,EAAN,EAAT,EAAb,C;;;AAAbiB,oB;;oBACDA,I;;;;;kDAAa,iCAAc9B,GAAd,EAAmB,GAAnB,EAAwB,gBAAxB,C;;;;uBACQL,KAAKoC,MAAL,CACxB;AACEL,4BADF;AAEEC,gCAFF;AAGEC,8BAHF;AAIEC;;AAJF,iBADwB,EAQxB,EAAEvB,OAAO,EAAEO,IAAIA,EAAN,EAAT,EARwB,C;;;AAApBmB,2B;;AAUN,mDAAgBhC,GAAhB,EAAqB,GAArB,EAA0BgC,WAA1B;;;;;;;;AAEA;AACA/B;;;;;;;;;;;;;;;;;;;;;kBAKSH,e","file":"AdminController.js","sourceRoot":"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/controllers","sourcesContent":["import jwt from \"jsonwebtoken\";\nimport { verifyPassword } from \"../helpers/encrypt\";\nimport {\n  successResponseWithToken,\n  errorResponse,\n  successResponseWithPagination,\n  successResponse,\n} from \"../helpers/responseUtil\";\nimport Model from \"../models\";\nimport \"babel-polyfill\";\n\nrequire(\"dotenv\").config();\n\nconst { User, Admin } = Model;\n\nclass AdminController {\n  static async login(req, res, next) {\n    try {\n      const { email, password } = req.body;\n      const admin = await Admin.findOne({\n        where: { email: email.toLowerCase() },\n      });\n\n      if (!admin) return errorResponse(res, 400, \"email or password is invalid\");\n      const confirmPassword = verifyPassword(password, admin.password);\n      if (!confirmPassword)\n        return errorResponse(res, 400, \"email or password is invalid\");\n      const token = jwt.sign(\n        { id: admin.id, email: admin.email },\n        process.env.JWT_SECRET_KEY,\n        { expiresIn: process.env.TOKEN_EXPIRATION }\n      );\n      return successResponseWithToken(\n        res,\n        200,\n        \"login successful\",\n        admin,\n        token\n      );\n    } catch (err) {\n      /* istanbul ignore next */\n      next(err);\n    }\n  }\n\n  static async getAllUsers(req, res, next) {\n    let limit = 10;\n    let offset = 0;\n\n    try {\n      const page = req.query.page ? req.query.page : 1;\n      offset = limit * (page - 1);\n\n      const users = await User.findAndCountAll({\n        limit,\n        offset,\n      });\n      successResponseWithPagination(res, 200, users, page, limit);\n    } catch (err) {\n      /* istanbul ignore next */\n      next(err);\n    }\n  }\n\n  static async updateUser(req, res, next) {\n    try {\n      const { id } = req.params;\n      const {\n        name,\n        groups,\n        state,\n        features,\n      } = req.body;\n      const user = await User.findOne({ where: { id: id } });\n      if (!user) return errorResponse(res, 404, \"User not found\");\n      const updatedUser = await User.update(\n        {\n          name,\n          groups,\n          state,\n          features,\n\n        },\n        { where: { id: id } }\n      );\n      successResponse(res, 200, updatedUser);\n    } catch (err) {\n      /* istanbul ignore next */\n      next(err);\n    }\n  }\n}\n\nexport default AdminController;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"131e01560cff286831a1b0cd994fa18fa4d7606f","contentHash":"4d7080402b0651403cc1c28dffb182cbe7e72dc676fb9186b641e0d4822865a9"},"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/helpers/encrypt.js":{"path":"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/helpers/encrypt.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":58}},"2":{"start":{"line":8,"column":14},"end":{"line":8,"column":31}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":46}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":93}},"5":{"start":{"line":22,"column":19},"end":{"line":24,"column":1}},"6":{"start":{"line":23,"column":2},"end":{"line":23,"column":49}},"7":{"start":{"line":38,"column":21},"end":{"line":40,"column":1}},"8":{"start":{"line":39,"column":2},"end":{"line":39,"column":64}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":95}},"line":12},"1":{"name":"hashPassword","decl":{"start":{"line":22,"column":51},"end":{"line":22,"column":63}},"loc":{"start":{"line":22,"column":74},"end":{"line":24,"column":1}},"line":22},"2":{"name":"verifyPassword","decl":{"start":{"line":38,"column":55},"end":{"line":38,"column":69}},"loc":{"start":{"line":38,"column":96},"end":{"line":40,"column":1}},"line":38}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":92}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":92}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":1,"8":2},"f":{"0":1,"1":0,"2":2},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["encrypt.js"],"names":["hashPassword","password","bcrypt","hashSync","verifyPassword","hashedPassword","compareSync"],"mappings":";;;;;;;AAGA;;;;;;AAEA;;;;;;;;AAQO,IAAMA,sCAAe,SAAfA,YAAe,CAACC,QAAD;AAAA,SAAcC,iBAAOC,QAAP,CAAgBF,QAAhB,EAA0B,EAA1B,CAAd;AAAA,CAArB;;AAEP;;;;;;;;;AAfA;;;AAwBO,IAAMG,0CAAiB,SAAjBA,cAAiB,CAACH,QAAD,EAAWI,cAAX;AAAA,SAA8BH,iBAAOI,WAAP,CAAmBL,QAAnB,EAA6BI,cAA7B,CAA9B;AAAA,CAAvB","file":"encrypt.js","sourceRoot":"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/helpers","sourcesContent":["/**\n * @module - Export functions to hash and verify password\n */\nimport bcrypt from 'bcrypt';\n\n/**\n * @description - Hash customer password\n * @async\n *\n * @param {string} password - Password string\n *\n * @returns {Promise<string>}\n */\nexport const hashPassword = (password) => bcrypt.hashSync(password, 10);\n\n/**\n * @description - Verifies customer password matches password in database\n * @async\n *\n * @param {string} password - Password string\n * @param {string} hashedPassword - Hashed password from database\n *\n * @returns {Promise<string>}\n */\nexport const verifyPassword = (password, hashedPassword) => bcrypt.compareSync(password, hashedPassword);\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8ccb5264fdfb56e48ebe952098797011f747eb22","contentHash":"475d9c41a80c0dcab5c00907fcf9f7a54869bd5a166a3e2f83098e1f3d56beb1"},"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/models/index.js":{"path":"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/models/index.js","statementMap":{"0":{"start":{"line":3,"column":9},"end":{"line":3,"column":22}},"1":{"start":{"line":4,"column":11},"end":{"line":4,"column":26}},"2":{"start":{"line":5,"column":16},"end":{"line":5,"column":36}},"3":{"start":{"line":6,"column":15},"end":{"line":6,"column":40}},"4":{"start":{"line":7,"column":10},"end":{"line":7,"column":47}},"5":{"start":{"line":8,"column":13},"end":{"line":8,"column":61}},"6":{"start":{"line":9,"column":9},"end":{"line":9,"column":11}},"7":{"start":{"line":11,"column":16},"end":{"line":11,"column":22}},"8":{"start":{"line":12,"column":0},"end":{"line":16,"column":1}},"9":{"start":{"line":13,"column":2},"end":{"line":13,"column":74}},"10":{"start":{"line":15,"column":2},"end":{"line":15,"column":87}},"11":{"start":{"line":18,"column":0},"end":{"line":23,"column":3}},"12":{"start":{"line":19,"column":2},"end":{"line":19,"column":82}},"13":{"start":{"line":21,"column":14},"end":{"line":21,"column":81}},"14":{"start":{"line":22,"column":2},"end":{"line":22,"column":25}},"15":{"start":{"line":25,"column":0},"end":{"line":29,"column":3}},"16":{"start":{"line":26,"column":2},"end":{"line":28,"column":3}},"17":{"start":{"line":27,"column":4},"end":{"line":27,"column":32}},"18":{"start":{"line":31,"column":0},"end":{"line":31,"column":25}},"19":{"start":{"line":32,"column":0},"end":{"line":32,"column":25}},"20":{"start":{"line":34,"column":0},"end":{"line":34,"column":20}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":18,"column":33},"end":{"line":18,"column":34}},"loc":{"start":{"line":18,"column":49},"end":{"line":20,"column":1}},"line":18},"1":{"name":"(anonymous_1)","decl":{"start":{"line":20,"column":11},"end":{"line":20,"column":12}},"loc":{"start":{"line":20,"column":27},"end":{"line":23,"column":1}},"line":20},"2":{"name":"(anonymous_2)","decl":{"start":{"line":25,"column":24},"end":{"line":25,"column":25}},"loc":{"start":{"line":25,"column":45},"end":{"line":29,"column":1}},"line":25}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":10},"end":{"line":7,"column":47}},"type":"binary-expr","locations":[{"start":{"line":7,"column":10},"end":{"line":7,"column":30}},{"start":{"line":7,"column":34},"end":{"line":7,"column":47}}],"line":7},"1":{"loc":{"start":{"line":12,"column":0},"end":{"line":16,"column":1}},"type":"if","locations":[{"start":{"line":12,"column":0},"end":{"line":16,"column":1}},{"start":{"line":12,"column":0},"end":{"line":16,"column":1}}],"line":12},"2":{"loc":{"start":{"line":19,"column":9},"end":{"line":19,"column":81}},"type":"binary-expr","locations":[{"start":{"line":19,"column":9},"end":{"line":19,"column":32}},{"start":{"line":19,"column":36},"end":{"line":19,"column":53}},{"start":{"line":19,"column":57},"end":{"line":19,"column":81}}],"line":19},"3":{"loc":{"start":{"line":26,"column":2},"end":{"line":28,"column":3}},"type":"if","locations":[{"start":{"line":26,"column":2},"end":{"line":28,"column":3}},{"start":{"line":26,"column":2},"end":{"line":28,"column":3}}],"line":26}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":1,"11":1,"12":3,"13":2,"14":2,"15":1,"16":2,"17":2,"18":1,"19":1,"20":1},"f":{"0":3,"1":2,"2":2},"b":{"0":[1,1],"1":[0,1],"2":[3,3,2],"3":[2,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["fs","require","path","Sequelize","basename","__filename","env","process","NODE_ENV","config","__dirname","db","sequelize","use_env_variable","database","username","password","readdirSync","filter","file","indexOf","slice","forEach","model","join","DataTypes","name","Object","keys","modelName","associate","module","exports"],"mappings":"AAAA;;AAEA,IAAMA,KAAKC,QAAQ,IAAR,CAAX;AACA,IAAMC,OAAOD,QAAQ,MAAR,CAAb;AACA,IAAME,YAAYF,QAAQ,WAAR,CAAlB;AACA,IAAMG,WAAWF,KAAKE,QAAL,CAAcC,UAAd,CAAjB;AACA,IAAMC,MAAMC,QAAQD,GAAR,CAAYE,QAAZ,IAAwB,aAApC;AACA,IAAMC,SAASR,QAAQS,YAAY,sBAApB,EAA4CJ,GAA5C,CAAf;AACA,IAAMK,KAAK,EAAX;;AAEA,IAAIC,kBAAJ;AACA,IAAIH,OAAOI,gBAAX,EAA6B;AAC3BD,cAAY,IAAIT,SAAJ,CAAcI,QAAQD,GAAR,CAAYG,OAAOI,gBAAnB,CAAd,EAAoDJ,MAApD,CAAZ;AACD,CAFD,MAEO;AACLG,cAAY,IAAIT,SAAJ,CAAcM,OAAOK,QAArB,EAA+BL,OAAOM,QAAtC,EAAgDN,OAAOO,QAAvD,EAAiEP,MAAjE,CAAZ;AACD;;AAEDT,GACGiB,WADH,CACeP,SADf,EAEGQ,MAFH,CAEU,gBAAQ;AACd,SAAQC,KAAKC,OAAL,CAAa,GAAb,MAAsB,CAAvB,IAA8BD,SAASf,QAAvC,IAAqDe,KAAKE,KAAL,CAAW,CAAC,CAAZ,MAAmB,KAA/E;AACD,CAJH,EAKGC,OALH,CAKW,gBAAQ;AACf,MAAMC,QAAQtB,QAAQC,KAAKsB,IAAL,CAAUd,SAAV,EAAqBS,IAArB,CAAR,EAAoCP,SAApC,EAA+CT,UAAUsB,SAAzD,CAAd;AACAd,KAAGY,MAAMG,IAAT,IAAiBH,KAAjB;AACD,CARH;;AAUAI,OAAOC,IAAP,CAAYjB,EAAZ,EAAgBW,OAAhB,CAAwB,qBAAa;AACnC,MAAIX,GAAGkB,SAAH,EAAcC,SAAlB,EAA6B;AAC3BnB,OAAGkB,SAAH,EAAcC,SAAd,CAAwBnB,EAAxB;AACD;AACF,CAJD;;AAMAA,GAAGC,SAAH,GAAeA,SAAf;AACAD,GAAGR,SAAH,GAAeA,SAAf;;AAEA4B,OAAOC,OAAP,GAAiBrB,EAAjB","file":"index.js","sourceRoot":"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/models","sourcesContent":["'use strict';\n\nconst fs = require('fs');\nconst path = require('path');\nconst Sequelize = require('sequelize');\nconst basename = path.basename(__filename);\nconst env = process.env.NODE_ENV || 'development';\nconst config = require(__dirname + '/../config/config.js')[env];\nconst db = {};\n\nlet sequelize;\nif (config.use_env_variable) {\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new Sequelize(config.database, config.username, config.password, config);\n}\n\nfs\n  .readdirSync(__dirname)\n  .filter(file => {\n    return (file.indexOf('.') !== 0) && (file !== basename) && (file.slice(-3) === '.js');\n  })\n  .forEach(file => {\n    const model = require(path.join(__dirname, file))(sequelize, Sequelize.DataTypes);\n    db[model.name] = model;\n  });\n\nObject.keys(db).forEach(modelName => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\n\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\n\nmodule.exports = db;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"80f9101390eda7a0fab20528d88c1c8805bdff2c","contentHash":"03d63b5bcade0abaaa587c749a345e7a73a2105132a7e1d0dfa42c88a4a59271"},"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/config/config.js":{"path":"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/config/config.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"1":{"start":{"line":5,"column":0},"end":{"line":34,"column":2}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["config.js"],"names":["require","config","module","exports","development","username","process","env","DB_USERNAME","password","DB_PASSWORD","database","DB_DEVELOPMENT","host","DB_HOST","port","DB_PORT","dialect","test","DB_TEST","production","DB_PROD_USERNAME","DB_PROD_PASSWORD","DB_PROD_NAME","DB_PROD_HOST","DB_PROD_PORT","ssl","dialectOptions"],"mappings":";;AAAAA,QAAQ,QAAR,EAAkBC,MAAlB;;AAEAC,OAAOC,OAAP,GAAiB;AACfC,eAAa;AACXC,cAAUC,QAAQC,GAAR,CAAYC,WADX;AAEXC,cAAUH,QAAQC,GAAR,CAAYG,WAFX;AAGXC,cAAUL,QAAQC,GAAR,CAAYK,cAHX;AAIXC,UAAMP,QAAQC,GAAR,CAAYO,OAJP;AAKXC,UAAMT,QAAQC,GAAR,CAAYS,OALP;AAMXC,aAAS;AANE,GADE;AASfC,QAAM;AACJb,cAAUC,QAAQC,GAAR,CAAYC,WADlB;AAEJC,cAAUH,QAAQC,GAAR,CAAYG,WAFlB;AAGJC,cAAUL,QAAQC,GAAR,CAAYY,OAHlB;AAIJN,UAAMP,QAAQC,GAAR,CAAYO,OAJd;AAKJC,UAAMT,QAAQC,GAAR,CAAYS,OALd;AAMJC,aAAS;AANL,GATS;AAiBfG,cAAY;AACVH,aAAS,UADC;AAEVZ,cAAUC,QAAQC,GAAR,CAAYc,gBAFZ;AAGVZ,cAAUH,QAAQC,GAAR,CAAYe,gBAHZ;AAIVX,cAAUL,QAAQC,GAAR,CAAYgB,YAJZ;AAKVV,UAAMP,QAAQC,GAAR,CAAYiB,YALR;AAMVT,UAAMT,QAAQC,GAAR,CAAYkB,YANR;AAOVC,SAAK,IAPK;AAQVC,oBAAgB;AACdD,WAAK;AADS;AARN;AAjBG,CAAjB","file":"config.js","sourceRoot":"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/config","sourcesContent":["require('dotenv').config();\n\nmodule.exports = {\n  development: {\n    username: process.env.DB_USERNAME,\n    password: process.env.DB_PASSWORD,\n    database: process.env.DB_DEVELOPMENT,\n    host: process.env.DB_HOST,\n    port: process.env.DB_PORT,\n    dialect: 'postgres',\n  },\n  test: {\n    username: process.env.DB_USERNAME,\n    password: process.env.DB_PASSWORD,\n    database: process.env.DB_TEST,\n    host: process.env.DB_HOST,\n    port: process.env.DB_PORT,\n    dialect: 'postgres',\n  },\n  production: {\n    dialect: 'postgres',\n    username: process.env.DB_PROD_USERNAME,\n    password: process.env.DB_PROD_PASSWORD,\n    database: process.env.DB_PROD_NAME,\n    host: process.env.DB_PROD_HOST,\n    port: process.env.DB_PROD_PORT,\n    ssl: true,\n    dialectOptions: {\n      ssl: true,\n    },\n  },\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d8866d00625b227476b5e6c3542b305701896a20","contentHash":"abefcac1e1c0c1177e8b0ab3c2dcf5999cac8b4cf3572c747f461a032d6bc252"},"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/models/admin.js":{"path":"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/models/admin.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":22,"column":2}},"1":{"start":{"line":4,"column":14},"end":{"line":16,"column":8}},"2":{"start":{"line":18,"column":2},"end":{"line":20,"column":4}},"3":{"start":{"line":21,"column":2},"end":{"line":21,"column":15}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":3,"column":17},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":49},"end":{"line":22,"column":1}},"line":3},"1":{"name":"(anonymous_1)","decl":{"start":{"line":18,"column":20},"end":{"line":18,"column":21}},"loc":{"start":{"line":18,"column":38},"end":{"line":20,"column":3}},"line":18}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"sources":["admin.js"],"names":["module","exports","sequelize","DataTypes","Admin","define","email","type","STRING","allowNull","unique","msg","password","associate","models"],"mappings":";;AAAAA,OAAOC,OAAP,GAAiB,UAACC,SAAD,EAAYC,SAAZ,EAA0B;AACzC,MAAMC,QAAQF,UAAUG,MAAV,CAAiB,OAAjB,EAA0B;AACtCC,WAAO;AACLC,YAAMJ,UAAUK,MADX;AAELC,iBAAW,KAFN;AAGLC,cAAQ;AACNC,aAAK;AADC;AAHH,KAD+B;AAQtCC,cAAU;AACRL,YAAMJ,UAAUK,MADR;AAERC,iBAAW;AAFH;AAR4B,GAA1B,EAYX,EAZW,CAAd;;AAcAL,QAAMS,SAAN,GAAkB,UAACC,MAAD,EAAY;AAC5B;AACD,GAFD;AAGA,SAAOV,KAAP;AACD,CAnBD","file":"admin.js","sourceRoot":"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/models","sourcesContent":["module.exports = (sequelize, DataTypes) => {\n  const Admin = sequelize.define('Admin', {\n    email: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      unique: {\n        msg: 'The admin already exists'\n      }\n    },\n    password: {\n      type: DataTypes.STRING,\n      allowNull: false,\n    },\n  }, {});\n\n  Admin.associate = (models) => {\n    // associations can be defined here\n  };\n  return Admin;\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c1426c763708a61d0f8c2102a55c4d091c80047b","contentHash":"fbddbd9dfc3dd8d7f39f3f7986bf829ab2538211eb6168984813f5b597a10f3a"},"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/models/user.js":{"path":"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/models/user.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":27,"column":2}},"1":{"start":{"line":4,"column":13},"end":{"line":21,"column":8}},"2":{"start":{"line":23,"column":2},"end":{"line":25,"column":4}},"3":{"start":{"line":26,"column":2},"end":{"line":26,"column":14}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":3,"column":17},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":49},"end":{"line":27,"column":1}},"line":3},"1":{"name":"(anonymous_1)","decl":{"start":{"line":23,"column":19},"end":{"line":23,"column":20}},"loc":{"start":{"line":23,"column":37},"end":{"line":25,"column":3}},"line":23}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"sources":["user.js"],"names":["module","exports","sequelize","DataTypes","User","define","name","type","STRING","allowNull","groups","ARRAY","state","BOOLEAN","features","associate","models"],"mappings":";;AAAAA,OAAOC,OAAP,GAAiB,UAACC,SAAD,EAAYC,SAAZ,EAA0B;AACzC,MAAMC,OAAOF,UAAUG,MAAV,CAAiB,MAAjB,EAAyB;AACpCC,UAAM;AACJC,YAAMJ,UAAUK,MADZ;AAEJC,iBAAW;AAFP,KAD8B;AAKpCC,YAAQ;AACNH,YAAMJ,UAAUQ,KAAV,CAAgBR,UAAUK,MAA1B,CADA;AAENC,iBAAW;AAFL,KAL4B;AASpCG,WAAO;AACLL,YAAMJ,UAAUU,OADX;AAELJ,iBAAW;AAFN,KAT6B;AAapCK,cAAU;AACRP,YAAMJ,UAAUQ,KAAV,CAAgBR,UAAUK,MAA1B,CADE;AAERC,iBAAW;AAFH;AAb0B,GAAzB,EAiBV,EAjBU,CAAb;;AAmBAL,OAAKW,SAAL,GAAiB,UAACC,MAAD,EAAY;AAC3B;AACD,GAFD;AAGA,SAAOZ,IAAP;AACD,CAxBD","file":"user.js","sourceRoot":"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/models","sourcesContent":["module.exports = (sequelize, DataTypes) => {\n  const User = sequelize.define('User', {\n    name: {\n      type: DataTypes.STRING,\n      allowNull: false,\n    },\n    groups: {\n      type: DataTypes.ARRAY(DataTypes.STRING),\n      allowNull: false,\n    },\n    state: {\n      type: DataTypes.BOOLEAN,\n      allowNull: false\n    },\n    features: {\n      type: DataTypes.ARRAY(DataTypes.STRING),\n      allowNull: false,\n    },\n  }, {});\n\n  User.associate = (models) => {\n    // associations can be defined here\n  };\n  return User;\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"852f25aaf3a5d693346cfffedfbd2a0caf1df177","contentHash":"33e2755e75acbf4272952f389e2e45dd0dd04c995353e1bcd3d12f4baeb651c7"},"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/middlewares/adminValidations.js":{"path":"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/middlewares/adminValidations.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":70}},"2":{"start":{"line":8,"column":11},"end":{"line":8,"column":25}},"3":{"start":{"line":10,"column":12},"end":{"line":10,"column":40}},"4":{"start":{"line":12,"column":20},"end":{"line":12,"column":54}},"5":{"start":{"line":14,"column":39},"end":{"line":14,"column":93}},"6":{"start":{"line":16,"column":26},"end":{"line":35,"column":1}},"7":{"start":{"line":17,"column":15},"end":{"line":20,"column":4}},"8":{"start":{"line":21,"column":18},"end":{"line":21,"column":26}},"9":{"start":{"line":22,"column":14},"end":{"line":22,"column":29}},"10":{"start":{"line":23,"column":17},"end":{"line":23,"column":35}},"11":{"start":{"line":25,"column":25},"end":{"line":25,"column":78}},"12":{"start":{"line":26,"column":14},"end":{"line":26,"column":36}},"13":{"start":{"line":28,"column":2},"end":{"line":32,"column":3}},"14":{"start":{"line":29,"column":18},"end":{"line":29,"column":31}},"15":{"start":{"line":31,"column":4},"end":{"line":31,"column":74}},"16":{"start":{"line":34,"column":2},"end":{"line":34,"column":16}},"17":{"start":{"line":37,"column":26},"end":{"line":65,"column":1}},"18":{"start":{"line":38,"column":15},"end":{"line":43,"column":4}},"19":{"start":{"line":44,"column":19},"end":{"line":44,"column":27}},"20":{"start":{"line":45,"column":13},"end":{"line":45,"column":28}},"21":{"start":{"line":46,"column":15},"end":{"line":46,"column":32}},"22":{"start":{"line":47,"column":15},"end":{"line":47,"column":32}},"23":{"start":{"line":48,"column":17},"end":{"line":48,"column":36}},"24":{"start":{"line":50,"column":26},"end":{"line":55,"column":4}},"25":{"start":{"line":56,"column":14},"end":{"line":56,"column":37}},"26":{"start":{"line":58,"column":2},"end":{"line":62,"column":3}},"27":{"start":{"line":59,"column":18},"end":{"line":59,"column":31}},"28":{"start":{"line":61,"column":4},"end":{"line":61,"column":74}},"29":{"start":{"line":64,"column":2},"end":{"line":64,"column":16}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":95}},"line":14},"1":{"name":"loginAdminValidator","decl":{"start":{"line":16,"column":65},"end":{"line":16,"column":84}},"loc":{"start":{"line":16,"column":101},"end":{"line":35,"column":1}},"line":16},"2":{"name":"updateUserValidator","decl":{"start":{"line":37,"column":65},"end":{"line":37,"column":84}},"loc":{"start":{"line":37,"column":101},"end":{"line":65,"column":1}},"line":37}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":92}},"type":"cond-expr","locations":[{"start":{"line":14,"column":70},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":92}}],"line":14},"1":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":46},"end":{"line":14,"column":49}},{"start":{"line":14,"column":53},"end":{"line":14,"column":67}}],"line":14},"2":{"loc":{"start":{"line":28,"column":2},"end":{"line":32,"column":3}},"type":"if","locations":[{"start":{"line":28,"column":2},"end":{"line":32,"column":3}},{"start":{"line":28,"column":2},"end":{"line":32,"column":3}}],"line":28},"3":{"loc":{"start":{"line":58,"column":2},"end":{"line":62,"column":3}},"type":"if","locations":[{"start":{"line":58,"column":2},"end":{"line":62,"column":3}},{"start":{"line":58,"column":2},"end":{"line":62,"column":3}}],"line":58}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":5,"8":5,"9":5,"10":5,"11":5,"12":5,"13":5,"14":2,"15":2,"16":3,"17":1,"18":2,"19":2,"20":2,"21":2,"22":2,"23":2,"24":2,"25":2,"26":2,"27":1,"28":1,"29":1},"f":{"0":1,"1":5,"2":2},"b":{"0":[0,1],"1":[1,1],"2":[2,3],"3":[1,1]},"inputSourceMap":{"version":3,"sources":["adminValidations.js"],"names":["loginAdminValidator","req","res","next","schema","Joi","object","email","string","required","password","body","validate","error","details","message","updateUserValidator","name","min","groups","array","status","boolean","features"],"mappings":";;;;;;;AAAA;;;;AACA;;;;AAEO,IAAMA,oDAAsB,SAAtBA,mBAAsB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACrD,MAAMC,SAASC,cAAIC,MAAJ,CAAW;AACxBC,WAAOF,cAAIG,MAAJ,GAAaC,QAAb,GAAwBF,KAAxB,EADiB;AAExBG,cAAUL,cAAIG,MAAJ,GAAaC,QAAb;AAFc,GAAX,CAAf;AADqD,kBAKzBR,IAAIU,IALqB;AAAA,MAK7CJ,KAL6C,aAK7CA,KAL6C;AAAA,MAKtCG,QALsC,aAKtCA,QALsC;;AAAA,yBAMnCN,OAAOQ,QAAP,CAAgB,EAAEL,YAAF,EAASG,kBAAT,EAAhB,CANmC;AAAA,MAM7CG,KAN6C,oBAM7CA,KAN6C;;AAOrD,MAAIA,KAAJ,EAAW;AAAA,QACDC,OADC,GACWD,KADX,CACDC,OADC;;AAET,WAAO,iCAAcZ,GAAd,EAAmB,GAAnB,EAAwBY,QAAQ,CAAR,EAAWC,OAAnC,CAAP;AACD;;AAED,SAAOZ,MAAP;AACD,CAbM;;AAeA,IAAMa,oDAAsB,SAAtBA,mBAAsB,CAACf,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACrD,MAAMC,SAASC,cAAIC,MAAJ,CAAW;AACxBW,UAAMZ,cAAIG,MAAJ,GAAaC,QAAb,GAAwBS,GAAxB,CAA4B,CAA5B,CADkB;AAExBC,YAAQd,cAAIe,KAAJ,GAAYX,QAAZ,EAFgB;AAGxBY,YAAQhB,cAAIiB,OAAJ,GAAcb,QAAd,EAHgB;AAIxBc,cAAUlB,cAAIe,KAAJ,GAAYX,QAAZ;AAJc,GAAX,CAAf;AADqD,mBAOVR,IAAIU,IAPM;AAAA,MAO7CM,IAP6C,cAO7CA,IAP6C;AAAA,MAOvCE,MAPuC,cAOvCA,MAPuC;AAAA,MAO/BE,MAP+B,cAO/BA,MAP+B;AAAA,MAOvBE,QAPuB,cAOvBA,QAPuB;;AAAA,0BASnCnB,OAAOQ,QAAP,CAAgB;AAChCK,cADgC;AAEhCE,kBAFgC;AAGhCE,kBAHgC;AAIhCE;AAJgC,GAAhB,CATmC;AAAA,MAS7CV,KAT6C,qBAS7CA,KAT6C;;AAerD,MAAIA,KAAJ,EAAW;AAAA,QACDC,OADC,GACWD,KADX,CACDC,OADC;;AAET,WAAO,iCAAcZ,GAAd,EAAmB,GAAnB,EAAwBY,QAAQ,CAAR,EAAWC,OAAnC,CAAP;AACD;;AAED,SAAOZ,MAAP;AACD,CArBM","file":"adminValidations.js","sourceRoot":"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/middlewares","sourcesContent":["import Joi from 'joi';\nimport { errorResponse } from '../helpers/responseUtil';\n\nexport const loginAdminValidator = (req, res, next) => {\n  const schema = Joi.object({\n    email: Joi.string().required().email(),\n    password: Joi.string().required()\n  });\n  const { email, password } = req.body;\n  const { error } = schema.validate({ email, password });\n  if (error) {\n    const { details } = error;\n    return errorResponse(res, 422, details[0].message);\n  }\n\n  return next();\n};\n\nexport const updateUserValidator = (req, res, next) => {\n  const schema = Joi.object({\n    name: Joi.string().required().min(2),\n    groups: Joi.array().required(),\n    status: Joi.boolean().required(),\n    features: Joi.array().required(),\n  });\n  const { name, groups, status, features } = req.body;\n\n  const { error } = schema.validate({\n    name,\n    groups,\n    status,\n    features,\n  });\n  if (error) {\n    const { details } = error;\n    return errorResponse(res, 422, details[0].message);\n  }\n\n  return next();\n};\n\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1f61042c7b3371ba30a7b9cb0a89f9fd6625bce0","contentHash":"51bd31e944e2ce2e1733c5faf34c6ff3f54fc1cc4e42044243c48c1a3fdc6ee9"},"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/middlewares/authenticate.js":{"path":"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/middlewares/authenticate.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":31}},"2":{"start":{"line":8,"column":20},"end":{"line":8,"column":43}},"3":{"start":{"line":10,"column":21},"end":{"line":10,"column":58}},"4":{"start":{"line":12,"column":20},"end":{"line":12,"column":54}},"5":{"start":{"line":14,"column":39},"end":{"line":14,"column":93}},"6":{"start":{"line":25,"column":17},"end":{"line":42,"column":1}},"7":{"start":{"line":26,"column":14},"end":{"line":26,"column":75}},"8":{"start":{"line":27,"column":2},"end":{"line":29,"column":3}},"9":{"start":{"line":28,"column":4},"end":{"line":28,"column":77}},"10":{"start":{"line":31,"column":2},"end":{"line":41,"column":5}},"11":{"start":{"line":32,"column":4},"end":{"line":34,"column":5}},"12":{"start":{"line":33,"column":6},"end":{"line":33,"column":101}},"13":{"start":{"line":36,"column":4},"end":{"line":36,"column":28}},"14":{"start":{"line":37,"column":4},"end":{"line":37,"column":32}},"15":{"start":{"line":38,"column":4},"end":{"line":38,"column":34}},"16":{"start":{"line":39,"column":4},"end":{"line":39,"column":62}},"17":{"start":{"line":40,"column":4},"end":{"line":40,"column":18}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":95}},"line":14},"1":{"name":"isLoggedIn","decl":{"start":{"line":25,"column":47},"end":{"line":25,"column":57}},"loc":{"start":{"line":25,"column":74},"end":{"line":42,"column":1}},"line":25},"2":{"name":"(anonymous_2)","decl":{"start":{"line":31,"column":76},"end":{"line":31,"column":77}},"loc":{"start":{"line":31,"column":100},"end":{"line":41,"column":3}},"line":31}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":92}},"type":"cond-expr","locations":[{"start":{"line":14,"column":70},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":92}}],"line":14},"1":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":46},"end":{"line":14,"column":49}},{"start":{"line":14,"column":53},"end":{"line":14,"column":67}}],"line":14},"2":{"loc":{"start":{"line":26,"column":14},"end":{"line":26,"column":75}},"type":"binary-expr","locations":[{"start":{"line":26,"column":14},"end":{"line":26,"column":38}},{"start":{"line":26,"column":42},"end":{"line":26,"column":75}}],"line":26},"3":{"loc":{"start":{"line":27,"column":2},"end":{"line":29,"column":3}},"type":"if","locations":[{"start":{"line":27,"column":2},"end":{"line":29,"column":3}},{"start":{"line":27,"column":2},"end":{"line":29,"column":3}}],"line":27},"4":{"loc":{"start":{"line":32,"column":4},"end":{"line":34,"column":5}},"type":"if","locations":[{"start":{"line":32,"column":4},"end":{"line":34,"column":5}},{"start":{"line":32,"column":4},"end":{"line":34,"column":5}}],"line":32}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":6,"8":6,"9":1,"10":5,"11":5,"12":1,"13":4,"14":4,"15":4,"16":4,"17":4},"f":{"0":1,"1":6,"2":5},"b":{"0":[0,1],"1":[1,1],"2":[6,5],"3":[1,5],"4":[1,4]},"inputSourceMap":{"version":3,"sources":["authenticate.js"],"names":["isLoggedIn","req","res","next","token","get","slice","jwt","verify","process","env","JWT_SECRET_KEY","err","decoded","message","userId","id","userRole","role","userEmail","email","userName","firstName","lastName"],"mappings":";;;;;;;AAAA;;;;AACA;;;;AAEA;;;;;;;;;AASO,IAAMA,kCAAa,SAAbA,UAAa,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC5C,MAAMC,QAAQH,IAAII,GAAJ,CAAQ,eAAR,KAA4BJ,IAAII,GAAJ,CAAQ,eAAR,EAAyBC,KAAzB,CAA+B,CAA/B,CAA1C;AACA,MAAI,CAACF,KAAL,EAAY;AACV,WAAO,iCAAcF,GAAd,EAAmB,GAAnB,EAAwB,qBAAxB,CAAP;AACD;;AAEDK,yBAAIC,MAAJ,CAAWJ,MAAME,KAAN,CAAY,CAAZ,CAAX,EAA2BG,QAAQC,GAAR,CAAYC,cAAvC,EAAuD,UAACC,GAAD,EAAMC,OAAN,EAAkB;AACvE,QAAID,GAAJ,EAAS;AACP,aAAO,iCAAcV,GAAd,EAAmB,GAAnB,EAA2BU,IAAIE,OAA/B,iCAAP;AACD;;AAEDb,QAAIc,MAAJ,GAAaF,QAAQG,EAArB;AACAf,QAAIgB,QAAJ,GAAeJ,QAAQK,IAAvB;AACAjB,QAAIkB,SAAJ,GAAgBN,QAAQO,KAAxB;AACAnB,QAAIoB,QAAJ,GAAkBR,QAAQS,SAA1B,SAAuCT,QAAQU,QAA/C;AACA,WAAOpB,MAAP;AACD,GAVD;AAWD,CAjBM","file":"authenticate.js","sourceRoot":"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/middlewares","sourcesContent":["import jwt from 'jsonwebtoken';\nimport { errorResponse } from '../helpers/responseUtil';\n\n/**\n * @description - check if a customer is logged in\n *\n * @param {object} req - HTTP Request\n * @param {object} res - HTTP Response\n * @param {object} next\n *\n * @returns\n */\nexport const isLoggedIn = (req, res, next) => {\n  const token = req.get('Authorization') && req.get('Authorization').slice(7);\n  if (!token) {\n    return errorResponse(res, 401, 'Unauthorized Access');\n  }\n\n  jwt.verify(token.slice(7), process.env.JWT_SECRET_KEY, (err, decoded) => {\n    if (err) {\n      return errorResponse(res, 401, `${err.message}..Please log in to continue`);\n    }\n\n    req.userId = decoded.id;\n    req.userRole = decoded.role;\n    req.userEmail = decoded.email;\n    req.userName = `${decoded.firstName} ${decoded.lastName}`;\n    return next();\n  });\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"853c23c7e8a32a8d3af808e8be37143aa6eaee88","contentHash":"054f1a947b79e7b3ffd3a7d1cfbf9c209801540db2c96b18009f2eb42a6783a3"},"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/middlewares/paramsValidation.js":{"path":"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/middlewares/paramsValidation.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":34}},"2":{"start":{"line":8,"column":11},"end":{"line":8,"column":25}},"3":{"start":{"line":10,"column":12},"end":{"line":10,"column":40}},"4":{"start":{"line":12,"column":20},"end":{"line":12,"column":54}},"5":{"start":{"line":14,"column":39},"end":{"line":14,"column":93}},"6":{"start":{"line":16,"column":20},"end":{"line":32,"column":1}},"7":{"start":{"line":17,"column":15},"end":{"line":19,"column":4}},"8":{"start":{"line":20,"column":11},"end":{"line":20,"column":24}},"9":{"start":{"line":22,"column":25},"end":{"line":22,"column":52}},"10":{"start":{"line":23,"column":14},"end":{"line":23,"column":36}},"11":{"start":{"line":25,"column":2},"end":{"line":29,"column":3}},"12":{"start":{"line":26,"column":18},"end":{"line":26,"column":31}},"13":{"start":{"line":28,"column":4},"end":{"line":28,"column":74}},"14":{"start":{"line":31,"column":2},"end":{"line":31,"column":16}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":95}},"line":14},"1":{"name":"validateParam","decl":{"start":{"line":16,"column":53},"end":{"line":16,"column":66}},"loc":{"start":{"line":16,"column":83},"end":{"line":32,"column":1}},"line":16}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":92}},"type":"cond-expr","locations":[{"start":{"line":14,"column":70},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":92}}],"line":14},"1":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":46},"end":{"line":14,"column":49}},{"start":{"line":14,"column":53},"end":{"line":14,"column":67}}],"line":14},"2":{"loc":{"start":{"line":25,"column":2},"end":{"line":29,"column":3}},"type":"if","locations":[{"start":{"line":25,"column":2},"end":{"line":29,"column":3}},{"start":{"line":25,"column":2},"end":{"line":29,"column":3}}],"line":25}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":3,"8":3,"9":3,"10":3,"11":3,"12":1,"13":1,"14":2},"f":{"0":1,"1":3},"b":{"0":[0,1],"1":[1,1],"2":[1,2]},"inputSourceMap":{"version":3,"sources":["paramsValidation.js"],"names":["validateParam","req","res","next","schema","Joi","object","id","number","integer","required","min","params","validate","error","details","message"],"mappings":";;;;;;;AAAA;;;;AACA;;;;AAEO,IAAMA,wCAAgB,SAAhBA,aAAgB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC/C,MAAMC,SAASC,cAAIC,MAAJ,CAAW;AACxBC,QAAIF,cAAIG,MAAJ,GAAaC,OAAb,GAAuBC,QAAvB,GAAkCC,GAAlC,CAAsC,CAAtC;AADoB,GAAX,CAAf;AAD+C,MAIvCJ,EAJuC,GAIhCN,IAAIW,MAJ4B,CAIvCL,EAJuC;;AAAA,yBAK7BH,OAAOS,QAAP,CAAgB,EAAEN,MAAF,EAAhB,CAL6B;AAAA,MAKvCO,KALuC,oBAKvCA,KALuC;;AAM/C,MAAIA,KAAJ,EAAW;AAAA,QACDC,OADC,GACWD,KADX,CACDC,OADC;;AAET,WAAO,iCAAcb,GAAd,EAAmB,GAAnB,EAAwBa,QAAQ,CAAR,EAAWC,OAAnC,CAAP;AACD;;AAED,SAAOb,MAAP;AACD,CAZM","file":"paramsValidation.js","sourceRoot":"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/middlewares","sourcesContent":["import Joi from 'joi';\nimport { errorResponse } from '../helpers/responseUtil';\n\nexport const validateParam = (req, res, next) => {\n  const schema = Joi.object({\n    id: Joi.number().integer().required().min(1)\n  });\n  const { id } = req.params;\n  const { error } = schema.validate({ id });\n  if (error) {\n    const { details } = error;\n    return errorResponse(res, 422, details[0].message);\n  }\n\n  return next();\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"57af1d5f1a0f7816a989be88c1b95fd0984a9cfe","contentHash":"7779463fdf82f358f8b484fb69682f0c2a0f4a702e39f3b6469aa1c09463281d"},"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/tests/utils/setup.js":{"path":"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/tests/utils/setup.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":145}},"2":{"start":{"line":8,"column":20},"end":{"line":8,"column":43}},"3":{"start":{"line":10,"column":21},"end":{"line":10,"column":58}},"4":{"start":{"line":12,"column":13},"end":{"line":12,"column":29}},"5":{"start":{"line":14,"column":14},"end":{"line":14,"column":44}},"6":{"start":{"line":16,"column":39},"end":{"line":16,"column":93}},"7":{"start":{"line":18,"column":19},"end":{"line":20,"column":2}},"8":{"start":{"line":21,"column":19},"end":{"line":23,"column":2}},"9":{"start":{"line":24,"column":23},"end":{"line":26,"column":2}},"10":{"start":{"line":28,"column":12},"end":{"line":31,"column":1}},"11":{"start":{"line":33,"column":11},"end":{"line":38,"column":1}},"12":{"start":{"line":40,"column":27},"end":{"line":44,"column":1}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":31}},"loc":{"start":{"line":16,"column":37},"end":{"line":16,"column":95}},"line":16}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":92}},"type":"cond-expr","locations":[{"start":{"line":16,"column":70},"end":{"line":16,"column":73}},{"start":{"line":16,"column":76},"end":{"line":16,"column":92}}],"line":16},"1":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":67}},"type":"binary-expr","locations":[{"start":{"line":16,"column":46},"end":{"line":16,"column":49}},{"start":{"line":16,"column":53},"end":{"line":16,"column":67}}],"line":16}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":2,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1},"f":{"0":2},"b":{"0":[0,2],"1":[2,2]},"inputSourceMap":{"version":3,"sources":["setup.js"],"names":["expiredToken","jwt","sign","id","process","env","JWT_SECRET_KEY","expiresIn","invalidToken","wrongSecretToken","admin","email","password","user","name","faker","internet","userName","status","datatype","boolean","groups","features","userWithMissingField"],"mappings":";;;;;;;AAAA;;;;AACA;;;;;;AAEO,IAAMA,kDAAyBC,uBAAIC,IAAJ,CAAS,EAAEC,IAAI,CAAN,EAAT,EAAoBC,QAAQC,GAAR,CAAYC,cAAhC,EAAgD;AACpFC,aAAW;AADyE,CAAhD,CAA/B;AAGA,IAAMC,kDAAyBP,uBAAIC,IAAJ,CAAS,EAAT,EAAaE,QAAQC,GAAR,CAAYC,cAAzB,EAAyC;AAC7EC,aAAW;AADkE,CAAzC,CAA/B;AAGA,IAAME,0DAA6BR,uBAAIC,IAAJ,CAAS,EAAEC,IAAI,CAAN,EAAT,EAAoB,YAApB,EAAkC;AAC1EI,aAAW;AAD+D,CAAlC,CAAnC;;AAIA,IAAMG,wBAAQ;AACnBC,SAAO,iBADY;AAEnBC,YAAU;AAFS,CAAd;;AAKA,IAAMC,sBAAO;AAClBC,QAAMC,gBAAMC,QAAN,CAAeC,QAAf,EADY;AAElBC,UAAQH,gBAAMI,QAAN,CAAeC,OAAf,EAFU;AAGlBC,UAAQ,CAAC,OAAD,EAAU,MAAV,CAHU;AAIlBC,YAAU,CAAC,KAAD,EAAQ,QAAR;AAJQ,CAAb;;AAOA,IAAMC,sDAAuB;AAClCL,UAAQH,gBAAMI,QAAN,CAAeC,OAAf,EAD0B;AAElCE,YAAU,CAAC,QAAD,EAAW,QAAX,CAFwB;AAGlCD,UAAQ,CAAC,OAAD,EAAU,MAAV;AAH0B,CAA7B","file":"setup.js","sourceRoot":"/Users/solomonodumah/Projects/luci-assessment/luci-admin-api/server/tests/utils","sourcesContent":["import jwt from 'jsonwebtoken';\nimport faker from 'faker';\n\nexport const expiredToken = `Bearer ${jwt.sign({ id: 1 }, process.env.JWT_SECRET_KEY, {\n  expiresIn: 1,\n})}`;\nexport const invalidToken = `Bearer ${jwt.sign({}, process.env.JWT_SECRET_KEY, {\n  expiresIn: 86400,\n})}`;\nexport const wrongSecretToken = `Bearer ${jwt.sign({ id: 1 }, 'fakesecret', {\n  expiresIn: 86400,\n})}`;\n\nexport const admin = {\n  email: 'admin@gmail.com',\n  password: 'Password@1234',\n};\n\nexport const user = {\n  name: faker.internet.userName(),\n  status: faker.datatype.boolean(),\n  groups: ['Admin', 'User'],\n  features: ['Add', 'Update'],\n};\n\nexport const userWithMissingField = {\n  status: faker.datatype.boolean(),\n  features: ['Create', 'Delete'],\n  groups: ['Admin', 'User'],\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ca08a7580328e63c227a6345dbff290439b1d804","contentHash":"d2ce95ce67fb3b8239034db48c71be29edc272c2bcdee0eb7d9c5bca2063ef4d"}}